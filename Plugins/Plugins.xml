<?xml version="1.0"?>
<plugins>
  <plugin name="XML Prettier">
    <event value="FILE_PACK_UNPACK" />
    <description value="XML Prettier" />
    <file-filters value="\.xml$" />
    <is-automatic value="false" />
    <unpacked-file-extension value=".xml" />
    <extended-properties value="ProcessType=Prettification;FileType=XML;MenuCaption=Pretty XML;GenerateEditorScript" />
    <unpack-file>
      <command>"${WINMERGE_HOME}\Commands\html-tidy5\tidy.exe" -xml -indent --indent-attributes yes --tab-size 4 --indent-spaces 4 -wrap 0 --sort-attributes alpha -o "${DST_FILE}" "${SRC_FILE}"</command>
    </unpack-file>
  </plugin>
  <plugin name="JSON Prettier">
    <event value="FILE_PACK_UNPACK" />
    <description value="JSON Prettier" />
    <file-filters value="\.json$" />
    <is-automatic value="false" />
    <unpacked-file-extension value=".json" />
    <extended-properties value="ProcessType=Prettification;FileType=JSON;MenuCaption=Pretty JSON;GenerateEditorScript" />
    <unpack-file>
      <command>cmd /c type "${SRC_FILE}" | "${WINMERGE_HOME}\Commands\jq\jq.exe" "" &gt; "${DST_FILE}"</command>
    </unpack-file>
  </plugin>
  <plugin name="Graphviz Visualizer">
    <event value="FILE_PACK_UNPACK" />
    <description value="Graphviz Visualizer" />
    <file-filters value="\.gv;$\.dot$" />
    <is-automatic value="false" />
    <unpacked-file-extension value=".png" />
    <extended-properties value="ProcessType=Visualization;FileType=Graphviz;MenuCaption=Graphviz" />
    <unpack-file>
      <command>dot.exe -Tpng -o"${DST_FILE}" "${SRC_FILE}"</command>
    </unpack-file>
  </plugin>
  <plugin name="General Content Extractor">
    <event value="FILE_PACK_UNPACK" />
    <description value="General Content Extractor (Apache Tika)" />
    <file-filters value="\.*$" />
    <is-automatic value="false" />
    <unpacked-file-extension value=".txt" />
    <extended-properties value="ProcessType=Content Extraction;MenuCaption=Extracted Content by Apache Tika;GenerateEditorScript" />
    <unpack-file>
	    <command>cmd /c java -jar "${WINMERGE_HOME}\Commands\apache-tika\tika-app.jar" -t "${SRC_FILE}" &gt; "${DST_FILE}"</command>
    </unpack-file>
  </plugin>
  <!--
  <plugin name="VBScript test">
    <event value="FILE_PACK_UNPACK" />
    <description value="VBScript test" />
    <file-filters value="\.nomatch$" />
    <is-automatic value="false" />
    <unpacked-file-extension value=".txt" />
    <unpack-file>
      <command>cmd /c cscript //nologo "${SCRIPT_FILE}" "${SRC_FILE}" > "${DST_FILE}"</command>
      <script fileExtension=".vbs">
WScript.StdOut.WriteLine "Hello World!"
WScript.StdOut.WriteLine WScript.Arguments(0)
      </script>
    </unpack-file>
  </plugin>
  -->
</plugins>
